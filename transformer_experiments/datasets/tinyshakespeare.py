# AUTOGENERATED! DO NOT EDIT! File to edit: ../../nbs/datasets/tinyshakespeare.ipynb.

# %% auto 0
__all__ = ['source_url', 'TinyShakespeareDataSet']

# %% ../../nbs/datasets/tinyshakespeare.ipynb 2
from pathlib import Path

# %% ../../nbs/datasets/tinyshakespeare.ipynb 3
import requests

# %% ../../nbs/datasets/tinyshakespeare.ipynb 5
source_url = "https://raw.githubusercontent.com/karpathy/char-rnn/master/data/tinyshakespeare/input.txt"

# %% ../../nbs/datasets/tinyshakespeare.ipynb 6
class TinyShakespeareDataSet:
    def __init__(self, cache_file: str, url: str = source_url):
        self.cache_file = cache_file
        self.url = url
        self.text = self._get_text()

    def _get_text(self) -> str:
        cache_path = Path(self.cache_file)
        if not cache_path.exists():
            r = requests.get(self.url)
            cache_path.write_text(r.text)
        return cache_path.read_text()
